*** Settings ***
Library         SSHLibrary  ${EMPTY}  ${EMPTY}  $
Variables       user_information.py

*** Variables ***
${TESTDATA}   ${CURDIR}${/}..${/}testdata
${SCRIPTS}    ${TESTDATA}${/}scripts
${TEXTFILES}  ${TESTDATA}${/}textfiles
${SPECIAL TEXTFILES}  ${TEXTFILES}${/}special
${TEST SCRIPT NAME}  test.sh
${TEST SCRIPT}  ${SCRIPTS}${/}${TEST SCRIPT NAME}
${INTERACTIVE TEST SCRIPT NAME}  test_interactive.sh
${INTERACTIVE TEST SCRIPT}  ${SCRIPTS}${/}${INTERACTIVE TEST SCRIPT NAME}
${REPEAT TEST SCRIPT NAME}  test_repeat.sh
${REPEAT TEST SCRIPT}  ${SCRIPTS}${/}${REPEAT TEST SCRIPT NAME}
${TEST FILE NAME}  test_file.txt
${TEST FILE}  ${TEXTFILES}${/}${TEST FILE NAME}
${TEST FILE 2 NAME}  test_file2.txt
${TEST FILE 2}  ${TEXTFILES}${/}${TEST FILE 2 NAME}
${FILE WITH NEWLINES NAME}  file_with_newlines.txt
${FILE WITH NEWLINES}  ${TEXTFILES}${/}${FILE WITH NEWLINES NAME}
${FILE WITH NON-ASCII NAME}  aaääöö.txt
${FILE WITH NON-ASCII}  ${SPECIAL TEXTFILES}${/}${FILE WITH NON-ASCII NAME}
${FILE WITH SPECIAL CHARS NAME}  foo%2Fbar.txt
${FILE WITH SPECIAL CHARS}  ${SPECIAL TEXTFILES}${/}${FILE WITH SPECIAL CHARS NAME}

*** Keywords ***
Login And Move Test Files
    Login As Valid User
    Put File  ${TEST SCRIPT}  ${USER HOME}/
    Put File  ${INTERACTIVE TEST SCRIPT}  ${USER HOME}/
    Put File  ${REPEAT TEST SCRIPT}  ${USER HOME}/
    Put File  ${FILE WITH NEWLINES}  ${USER HOME}/
    Put File  ${FILE WITH NON-ASCII}  ${USER HOME}/

Remove Test Files And Close Connections
    Execute Command  rm -f ${TEST SCRIPT NAME} ${INTERACTIVE TEST SCRIPT NAME} ${REPEAT TEST SCRIPT NAME} ${FILE WITH NEWLINES NAME} ${FILE WITH NON-ASCII NAME}
    Close All Connections

Login As Valid User
    [Arguments]  ${options}=${EMPTY}
    ${id} =  Open Connection To Test Host  ${options}
    Login  ${USERNAME}  ${PASSWORD}
    [Return]  ${id}

Open Connection To Test Host
    [Arguments]  ${options}=${EMPTY}
    ${id} =  Open Connection  ${HOST}  ${options}
    [Return]  ${id}

Connection Should Be Closed
    Run Keyword And Expect Error  No open connection.  Write  pwd
