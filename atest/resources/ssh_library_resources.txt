*** Settings ***
Library         SSHLibrary  ${EMPTY}  ${EMPTY}  $
Variables       user_information.py
Library         OperatingSystem  WITH NAME  OS

*** Variables ***
${SCRIPTS}  ${CURDIR}${/}scripts${/}
${TEST SCRIPT NAME}  test.sh
${TEST SCRIPT}  ${SCRIPTS}${TEST SCRIPT NAME}
${INTERACTIVE TEST SCRIPT NAME}  test_interactive.sh
${INTERACTIVE TEST SCRIPT}  ${SCRIPTS}${INTERACTIVE TEST SCRIPT NAME}
${REPEAT TEST SCRIPT NAME}  test_repeat.sh
${REPEAT TEST SCRIPT}  ${SCRIPTS}${REPEAT TEST SCRIPT NAME}
${COUNTER NAME}  counter.txt
${TEST FILE NAME}  test_file.txt
${TEST FILE}  ${SCRIPTS}${TEST FILE NAME}
${TEST FILE 2 NAME}  test_file2.txt
${TEST FILE 2}  ${SCRIPTS}${TEST FILE 2 NAME}
${TEST FILE PATTERN}  ${SCRIPTS}test*.txt
${FILE WITH NEWLINES NAME}  file_with_newlines.txt
${FILE WITH NEWLINES}  ${SCRIPTS}${FILE WITH NEWLINES NAME}
${FILE WITH NON-ASCII NAME}  aaääöö.txt
${FILE WITH NON-ASCII}  ${SCRIPTS}${FILE WITH NON-ASCII NAME}
${SPECIAL CHARS FILE}  ${SCRIPTS}foo%2Fbar.txt

*** Keywords ***
Login And Move Test Files
    Login As Valid User
    Put File  ${TEST SCRIPT}  ${USER HOME}/${TEST SCRIPT NAME}
    Put File  ${INTERACTIVE TEST SCRIPT}  ${USER HOME}/${INTERACTIVE TEST SCRIPT NAME}
    Put File  ${REPEAT TEST SCRIPT}  ${USER HOME}/${REPEAT TEST SCRIPT NAME}
    Put File  ${FILE WITH NEWLINES}  ${USER HOME}/
    Put File  ${FILE WITH NON-ASCII}  ${USER HOME}/

Remove Test Files And Close Connections
    Execute Command  rm -f ${INTERACTIVE TEST SCRIPT NAME} ${TEST SCRIPT NAME} ${REPEAT TEST SCRIPT NAME} ${COUNTER NAME} ${FILE WITH NEWLINES NAME} ${FILE WITH NON-ASCII NAME}
    Close All Connections

Login As Valid User
    [Arguments]  ${options}=${EMPTY}
    ${id} =  Open Connection To Test Host  ${options}
    Login  ${USERNAME}  ${PASSWORD}
    [Return]  ${id}

Open Connection To Test Host
    [Arguments]  ${options}=${EMPTY}
    ${id} =  Open Connection  ${HOST}  ${options}
    [Return]  ${id}

Connection Should Be Closed
    Run Keyword And Expect Error  No open connection.  Write  pwd
